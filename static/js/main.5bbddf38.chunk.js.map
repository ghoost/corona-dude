{"version":3,"sources":["features/player/player_walk.png","features/map/index.js","config/constants.js","features/player/reducer.js","features/map/reducer.js","config/store.js","data/maps/index.js","features/player/index.js","features/player/movement.js","features/world/index.js","App.js","index.js"],"names":["module","exports","MapTile","props","tile","type","getTileSprite","className","style","height","width","MapRow","tiles","map","index","key","connect","state","MAP_WIDTH","MAP_HEIGHT","row","initialState","position","spriteLocation","direction","walkIndex","moveCount","addScore","animated","showAnimation","gameOver","rootReducer","combineReducers","player","action","payload","update","$set","console","log","Store","createStore","window","__REDUX_DEVTOOLS_EXTENSION__","l2","Levels","level1","level2","level3","timer","getSpriteLocation","SPRITE_SIZE","observeBoundaries","oldPos","newPos","dispatchMove","moves","getState","dispatch","getWalkIndex","newTiles","produce","draft","y","x","setTimeout","document","getElementById","scrollIntoView","behavior","block","inline","attemptMove","getNewPosition","next","observeImpassable","addEventListener","e","preventDefault","keyCode","handleKeyDown","handleMovement","useSelector","movement","id","transition","top","left","backgroundImage","walkSprite","backgroundPositionY","background","maxWidth","overflow","World","margin","clipPath","App","handleClick","event","dispatchEvent","KeyboardEvent","onMouseDown","onMouseUp","onClick","ReactDOM","render","store"],"mappings":"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","file":"static/js/main.5bbddf38.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/player_walk.9f19440f.png\";","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { SPRITE_SIZE, MAP_WIDTH, MAP_HEIGHT } from \"../../config/constants\";\r\nfunction getTileSprite(type) {\r\n  switch (type) {\r\n    case 0:\r\n      return \"grass\";\r\n    case 1:\r\n      return \"corona\";\r\n    case 2:\r\n      return \"grave\";\r\n    case 3:\r\n      return \"spiral\";\r\n    case 4:\r\n      return \"toilet\";\r\n    case 5:\r\n      return \"farm\";\r\n    case 6:\r\n      return \"tree\";\r\n    case 7:\r\n      return \"trees\";\r\n    case 8:\r\n      return \"stone\";\r\n    case 9:\r\n      return \"big-tree\";\r\n    case 10:\r\n      return \"mountain-1\";\r\n    case 11:\r\n      return \"mountain-2\";\r\n    case 12:\r\n      return \"mountain-3\";\r\n    case 13:\r\n      return \"mountain-4\";\r\n    default:\r\n  }\r\n}\r\n\r\nfunction MapTile(props) {\r\n  const tile = getTileSprite(\r\n    typeof props.tile === \"object\" ? props.tile.tile : props.tile\r\n  );\r\n  return (\r\n    <div\r\n      className={`tile ${tile}`}\r\n      style={{\r\n        height: SPRITE_SIZE,\r\n        width: SPRITE_SIZE\r\n      }}\r\n    ></div>\r\n  );\r\n}\r\nfunction MapRow(props) {\r\n  return (\r\n    <div className=\"row\">\r\n      {props.tiles.map((tile, index) => (\r\n        <MapTile key={index} tile={tile} />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\nfunction Map(props) {\r\n  return (\r\n    <div\r\n      className=\"map\"\r\n      style={{\r\n        width: MAP_WIDTH + \"px\",\r\n        height: MAP_HEIGHT + \"px\"\r\n      }}\r\n    >\r\n      {props.tiles.map((row, index) => (\r\n        <MapRow key={index} tiles={row} />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    tiles: state.map.tiles\r\n  };\r\n}\r\nexport default connect(mapStateToProps)(Map);\r\n","export const SPRITE_SIZE = 40;\r\nexport const MAP_HEIGHT = SPRITE_SIZE * 10;\r\nexport const MAP_WIDTH = SPRITE_SIZE * 20;\r\n","import update from \"react-addons-update\";\r\n\r\nconst initialState = {\r\n  position: [0, 0],\r\n  spriteLocation: \"0px\",\r\n  direction: \"east\",\r\n  walkIndex: 0,\r\n  moveCount: 10,\r\n  addScore: 0,\r\n  animated: false,\r\n  showAnimation: false,\r\n  gameOver: false\r\n};\r\n\r\nexport const playerReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case \"MOVE_PLAYER\":\r\n      return {\r\n        ...action.payload\r\n      };\r\n    case \"IS_ANIMATED\":\r\n      return update(state, {\r\n        animated: { $set: action.payload.animated }\r\n      });\r\n    case \"SET_MOVES\":\r\n      console.log(action.payload.addScore);\r\n      return update(state, {\r\n        moveCount: { $set: action.payload.moveCount },\r\n        addScore: { $set: action.payload.addScore },\r\n        gameOver: { $set: action.payload.gameOver },\r\n        showAnimation: { $set: action.payload.showAnimation }\r\n      });\r\n    case \"RESET_PLAYER\":\r\n      state = initialState;\r\n      return state;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","const initialState = {\r\n  tiles: []\r\n};\r\nexport const mapReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case \"ADD_TILES\":\r\n      state = action.payload;\r\n      //console.log(state);\r\n      return state;\r\n    case \"RESET_TILES\":\r\n      state = initialState;\r\n      return state;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { createStore, combineReducers } from \"redux\";\r\nimport { playerReducer } from \"../features/player/reducer\";\r\nimport { mapReducer } from \"../features/map/reducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n  player: playerReducer,\r\n  map: mapReducer\r\n});\r\n\r\nexport const Store = createStore(\r\n  rootReducer /* preloadedState, */,\r\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n);\r\n","const l1 = { tile: 3, map: 1 };\r\nconst l2 = { tile: 3, map: 2 };\r\nconst l3 = { tile: 3, map: 3 };\r\n\r\nexport const Levels = {\r\n  level1: [\r\n    [0, l2, 5, 0, 7, 7, 6, 0, 0, 0, 9, 0, 0, 0, 0, 0, 0, 6, 0, 9],\r\n    [0, 0, 0, 0, 5, 0, 0, 7, 0, 0, 8, 0, 1, 0, 0, 0, 0, 0, 0, 0],\r\n    [1, 0, 0, 0, 7, 0, 6, 0, 7, 0, 0, 0, 0, 0, 0, 0, 7, 0, 0, 1],\r\n    [0, 4, 0, 0, 0, 1, 5, 0, 0, 0, 7, 0, 0, 0, 0, 0, 6, 0, 0, 0],\r\n    [0, 0, 0, 0, 5, 0, 0, 8, 0, 7, 8, 0, 0, 1, 0, 0, 7, 0, 0, 0],\r\n    [0, 0, 0, 0, 0, 0, 0, 0, 8, 9, 0, 0, 0, 0, 8, 0, 0, 0, 0, 0],\r\n    [0, 0, 0, 0, 0, 0, 0, 0, 6, 6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n    [0, 0, 4, 4, 0, 4, 4, 0, 0, 0, 0, 6, 0, 0, 7, 0, 0, 0, 0, 0],\r\n    [0, 0, 10, 11, 0, 0, 8, 7, 0, 0, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n    [0, l2, 12, 13, 0, 1, 0, 0, 0, 0, 0, 10, 11, 0, 0, 0, 0, 0, 0, 1]\r\n  ],\r\n  level2: [\r\n    [0, l1, 8, 0, 8, 7, 6, 0, 0, 0, 9, 0, 0, 0, 0, 0, 0, 6, 0, 9],\r\n    [0, 0, 0, 0, 4, 5, 0, 7, 0, 0, 8, 0, 1, 0, 0, 0, 0, 0, 0, 0],\r\n    [5, 0, 0, 9, 0, 0, 6, 0, 7, 0, 0, 0, 0, 0, 0, 4, 7, 0, 0, 1],\r\n    [0, 0, 7, 0, 0, 1, 5, 0, 0, 0, 7, 0, 0, 0, 0, 0, 6, 0, 0, 0],\r\n    [0, 0, 4, 0, 5, 0, 0, 8, l3, 7, 8, 0, 0, 1, 0, 0, 7, 0, 0, 0],\r\n    [0, 0, 0, 0, 0, 0, 0, 0, 8, 9, 0, 0, 0, 0, 8, 0, 0, 0, 0, 0],\r\n    [0, 6, 6, 0, 0, 0, 0, 0, 6, 6, 0, 0, 0, 0, 0, 0, 0, 0, 4, 0],\r\n    [1, 5, 4, 0, 0, 0, 0, 0, 0, 0, 0, 6, 0, 0, 7, 4, 0, 0, 1, 0],\r\n    [0, 0, 10, 11, 0, 0, 8, 7, 0, 0, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n    [0, 0, 12, 13, 0, 1, 0, 0, 0, 0, 0, 10, 11, 0, 0, 0, 0, 0, 0, 1]\r\n  ],\r\n  level3: [\r\n    [0, 0, 0, 0, 8, 7, 6, 0, 0, 0, 9, 0, 0, 0, 0, 0, 0, 6, 0, 9],\r\n    [0, 0, 0, 0, 5, 0, 0, 7, 0, 0, 8, 0, 1, 0, 0, 0, 0, 0, 0, 0],\r\n    [5, 0, 0, 9, 0, 0, 6, 0, 7, 0, 0, 0, 0, 0, 0, 0, 7, 0, 0, 1],\r\n    [0, 0, 9, 0, 0, 0, 1, 0, 0, 0, 7, 0, 0, 0, 0, 0, 6, 0, 0, 0],\r\n    [0, 0, 0, 0, 0, 0, 0, 0, l2, 0, 0, 0, 0, 1, 0, 0, 7, 0, 0, 0],\r\n    [0, 0, 0, 0, 0, 0, 0, 0, 0, 7, 0, 0, 4, 0, 8, 0, 0, 0, 0, 0],\r\n    [0, 6, 6, 0, 0, 0, 0, 0, 5, 6, 4, 0, 0, 0, 0, 4, 0, 0, 0, 0],\r\n    [1, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6, 0, 0, 7, 0, 0, 0, 0, 0],\r\n    [0, 0, 10, 6, 0, 0, 8, 7, 6, 6, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n    [0, 0, 12, 13, 0, 1, 0, 0, 0, 0, 0, 10, 11, 0, 0, 0, 0, 0, 0, 1]\r\n  ]\r\n};\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport walkSprite from \"./player_walk.png\";\r\nimport handleMovement from \"./movement\";\r\nimport { SPRITE_SIZE } from \"../../config/constants\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nfunction Player(props) {\r\n  const position = useSelector(state => state.player.spriteLocation);\r\n  const animated = useSelector(state => state.player.animated);\r\n  const showAnimation = useSelector(state => state.player.showAnimation);\r\n  const moves = useSelector(state => state.player.moveCount);\r\n  const addScore = useSelector(state => state.player.addScore);\r\n  let movement = (moves / 10) * 100;\r\n  console.log(addScore);\r\n  const Moves = () => {\r\n    return (\r\n      <div\r\n        className=\"moves\"\r\n        style={{\r\n          background: moves > 10 ? \"#0f0\" : \"#f00\",\r\n          position: \"absolute\",\r\n          top: \"-5px\",\r\n          width: movement + \"%\",\r\n          maxWidth: \"100%\",\r\n          height: \"4px\",\r\n          overflow: \"hidden\",\r\n          transition: \"transition: width 1s ease-in-out\"\r\n        }}\r\n      >\r\n        {moves}\r\n      </div>\r\n    );\r\n  };\r\n  return (\r\n    <div\r\n      id=\"player\"\r\n      className={`player ${animated ? \"animated\" : \"\"}`}\r\n      style={{\r\n        transition: \"top 0.5s linear, left 0.5s linear\",\r\n        position: \"absolute\",\r\n        top: props.position[1],\r\n        left: props.position[0],\r\n        backgroundImage: `url('${walkSprite}')`,\r\n        //backgroundPosition: \"0px 0px\",\r\n        backgroundPositionY: position,\r\n        width: SPRITE_SIZE + \"px\",\r\n        height: SPRITE_SIZE + \"px\"\r\n      }}\r\n    >\r\n      <Moves />\r\n\r\n      <div\r\n        className={`add-points ${animated && showAnimation ? \"animated\" : \"\"}`}\r\n      >\r\n        {addScore}\r\n      </div>\r\n      <div\r\n        id=\"shadow\"\r\n        className={`shadow ${showAnimation ? \"animated\" : \"\"}`}\r\n      ></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    ...state.player\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(handleMovement(Player));\r\n","import { Store } from \"../../config/store\";\r\nimport { SPRITE_SIZE, MAP_WIDTH, MAP_HEIGHT } from \"../../config/constants\";\r\nimport produce from \"immer\";\r\nimport { Levels } from \"../../data/maps\";\r\n\r\nexport default function handleMovement(player) {\r\n  let timer = null;\r\n  function getNewPosition(oldPos, direction) {\r\n    switch (direction) {\r\n      case \"WEST\":\r\n        return [oldPos[0] - SPRITE_SIZE, oldPos[1]];\r\n      case \"EAST\":\r\n        return [oldPos[0] + SPRITE_SIZE, oldPos[1]];\r\n      case \"NORTH\":\r\n        return [oldPos[0], oldPos[1] - SPRITE_SIZE];\r\n      case \"SOUTH\":\r\n        return [oldPos[0], oldPos[1] + SPRITE_SIZE];\r\n      default:\r\n        console.log(direction);\r\n    }\r\n  }\r\n\r\n  function getSpriteLocation(direction, walkIndex) {\r\n    switch (direction) {\r\n      case \"SOUTH\":\r\n        return `${SPRITE_SIZE * 0}px`;\r\n      case \"EAST\":\r\n        return `${SPRITE_SIZE * 1}px`;\r\n      case \"WEST\":\r\n        return `${SPRITE_SIZE * 2}px`;\r\n      case \"NORTH\":\r\n        return `${SPRITE_SIZE * 3}px`;\r\n      default:\r\n    }\r\n  }\r\n\r\n  function getWalkIndex() {\r\n    const walkIndex = Store.getState().player.walkIndex;\r\n    return walkIndex >= 8 ? 0 : walkIndex + 1;\r\n  }\r\n  function observeBoundaries(oldPos, newPos) {\r\n    if (\r\n      newPos[0] >= 0 &&\r\n      newPos[0] <= MAP_WIDTH - SPRITE_SIZE &&\r\n      newPos[1] >= 0 &&\r\n      newPos[1] <= MAP_HEIGHT - SPRITE_SIZE\r\n    ) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  function observeImpassable(oldPos, newPos) {\r\n    const tiles = Store.getState().map.tiles;\r\n    const y = newPos[1] / SPRITE_SIZE;\r\n    const x = newPos[0] / SPRITE_SIZE;\r\n    let next, map;\r\n    if (typeof tiles[y][x] === \"object\") {\r\n      next = tiles[y][x].tile;\r\n      map = tiles[y][x].map;\r\n    } else {\r\n      next = tiles[y][x];\r\n    }\r\n    const nextTile = next;\r\n    return [nextTile < 5, nextTile, map];\r\n  }\r\n\r\n  function dispatchMove(direction, newPos, tile, map) {\r\n    if (timer == null) {\r\n      let moves = Store.getState().player.moveCount;\r\n      moves -= 1;\r\n      const gameOver = moves < 0 ? true : false;\r\n      if (gameOver) {\r\n        Store.dispatch({\r\n          type: \"SET_MOVES\",\r\n          payload: {\r\n            moveCount: 0,\r\n            addScore: 0,\r\n            showAnimation: true,\r\n            gameOver: gameOver\r\n          }\r\n        });\r\n        return;\r\n      }\r\n\r\n      const walkIndex = getWalkIndex();\r\n      Store.dispatch({\r\n        type: \"MOVE_PLAYER\",\r\n        payload: {\r\n          position: newPos,\r\n          direction,\r\n          walkIndex,\r\n          spriteLocation: getSpriteLocation(direction, walkIndex),\r\n          animated: true,\r\n          moveCount: moves,\r\n          gameOver: gameOver\r\n        }\r\n      });\r\n      if (tile === 1) {\r\n        const newTiles = produce(Store.getState().map.tiles, draft => {\r\n          const y = newPos[1] / SPRITE_SIZE;\r\n          const x = newPos[0] / SPRITE_SIZE;\r\n          draft[y][x] = 0;\r\n        });\r\n        if (newTiles) {\r\n          Store.dispatch({\r\n            type: \"SET_MOVES\",\r\n            payload: {\r\n              moveCount: moves + 10,\r\n              showAnimation: true,\r\n              addScore: 10,\r\n              gameOver: gameOver\r\n            }\r\n          });\r\n          Store.dispatch({ type: \"ADD_TILES\", payload: { tiles: newTiles } });\r\n        }\r\n      }\r\n\r\n      if (tile === 4) {\r\n        const newTiles = produce(Store.getState().map.tiles, draft => {\r\n          const y = newPos[1] / SPRITE_SIZE;\r\n          const x = newPos[0] / SPRITE_SIZE;\r\n          draft[y][x] = 0;\r\n        });\r\n        if (newTiles) {\r\n          Store.dispatch({\r\n            type: \"SET_MOVES\",\r\n            payload: {\r\n              moveCount: moves - 10,\r\n              addScore: -10,\r\n              showAnimation: true,\r\n              gameOver: gameOver\r\n            }\r\n          });\r\n          Store.dispatch({ type: \"ADD_TILES\", payload: { tiles: newTiles } });\r\n        }\r\n      }\r\n\r\n      if (tile === 3) {\r\n        if (map > 0) {\r\n          Store.dispatch({\r\n            type: \"ADD_TILES\",\r\n            payload: { tiles: Levels[\"level\" + map] }\r\n          });\r\n        }\r\n      }\r\n      timer = setTimeout(() => {\r\n        timer = null;\r\n        const shadow = document.getElementById(\"shadow\");\r\n        shadow.scrollIntoView({\r\n          behavior: \"smooth\",\r\n          block: \"end\",\r\n          inline: \"nearest\"\r\n        });\r\n\r\n        Store.dispatch({\r\n          type: \"IS_ANIMATED\",\r\n          payload: {\r\n            animated: false\r\n          }\r\n        });\r\n      }, 500);\r\n    } else {\r\n    }\r\n  }\r\n\r\n  function attemptMove(direction) {\r\n    const oldPos = Store.getState().player.position;\r\n    const newPos = getNewPosition(oldPos, direction);\r\n    const boundaries = observeBoundaries(oldPos, newPos);\r\n    if (boundaries) {\r\n      const tile = observeImpassable(oldPos, newPos);\r\n      if (observeBoundaries(oldPos, newPos) && tile[0])\r\n        dispatchMove(direction, newPos, tile[1], tile[2]);\r\n    }\r\n  }\r\n  function handleKeyDown(e) {\r\n    e.preventDefault();\r\n    switch (e.keyCode) {\r\n      case 37:\r\n        return attemptMove(\"WEST\");\r\n      case 38:\r\n        return attemptMove(\"NORTH\");\r\n      case 39:\r\n        return attemptMove(\"EAST\");\r\n      case 40:\r\n        return attemptMove(\"SOUTH\");\r\n      default:\r\n        console.log(e.keyCode, \"x\");\r\n    }\r\n  }\r\n  window.addEventListener(\"keydown\", e => {\r\n    handleKeyDown(e);\r\n  });\r\n  return player;\r\n}\r\n","import React from \"react\";\r\nimport Map from \"../map\";\r\nimport Player from \"../player\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { SPRITE_SIZE, MAP_WIDTH, MAP_HEIGHT } from \"../../config/constants\";\r\n\r\nexport function World(props) {\r\n  const position = useSelector(state => state.player.position);\r\n  return (\r\n    <>\r\n      <div\r\n        className=\"world\"\r\n        style={{\r\n          transition: \"all 0.5s linear\",\r\n          position: \"relative\",\r\n          width: MAP_WIDTH + \"px\",\r\n          height: MAP_HEIGHT + \"px\",\r\n          margin: \"20px auto\",\r\n          clipPath:\r\n            \"circle(150px at \" +\r\n            (position[0] + SPRITE_SIZE / 2) +\r\n            \"px \" +\r\n            (position[1] + SPRITE_SIZE / 2) +\r\n            \"px)\"\r\n        }}\r\n      >\r\n        <Map />\r\n        <Player />\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\nimport { World } from \"./features/world\";\nimport { Levels } from \"./data/maps/\";\nimport { useSelector } from \"react-redux\";\nimport { Store } from \"./config/store\";\n\nfunction App() {\n  const gameOver = useSelector(state => state.player.gameOver);\n\n  const Restart = () => {\n    const handleClick = () => {\n      Store.dispatch({\n        type: \"ADD_TILES\",\n        payload: { tiles: Levels[\"level1\"] }\n      });\n      Store.dispatch({ type: \"RESET_PLAYER\", payload: {} });\n    };\n\n    return <button onClick={handleClick}>RESTART</button>;\n  };\n\n  Store.dispatch({ type: \"ADD_TILES\", payload: { tiles: Levels[\"level1\"] } });\n  const handleClick = (event, direction) => {\n    console.log(event);\n    switch (direction) {\n      case \"DOWN\":\n        window.dispatchEvent(new KeyboardEvent(\"keydown\", { keyCode: 40 }));\n        break;\n      case \"LEFT\":\n        window.dispatchEvent(new KeyboardEvent(\"keydown\", { keyCode: 37 }));\n        break;\n      case \"RIGHT\":\n        window.dispatchEvent(new KeyboardEvent(\"keydown\", { keyCode: 39 }));\n        break;\n      case \"UP\":\n        window.dispatchEvent(new KeyboardEvent(\"keydown\", { keyCode: 38 }));\n        break;\n      default:\n    }\n  };\n  return (\n    <>\n      {!gameOver && (\n        <>\n          <World />\n          <div className=\"keypad\">\n            <button\n              onMouseDown={e => handleClick(e, \"UP\")}\n              onMouseUp={e => handleClick(e, \"UP\")}\n            >\n              <i className=\"up\"></i>\n            </button>\n            <br />\n            <button\n              onMouseDown={e => handleClick(e, \"LEFT\")}\n              onMouseUp={e => handleClick(e, \"LEFT\")}\n            >\n              <i className=\"left\"></i>\n            </button>\n            <button\n              onMouseDown={e => handleClick(e, \"DOWN\")}\n              onMouseUp={e => handleClick(e, \"DOWN\")}\n            >\n              <i className=\"down\"></i>\n            </button>\n            <button\n              onMouseDown={e => handleClick(e, \"RIGHT\")}\n              onMouseUp={e => handleClick(e, \"RIGHT\")}\n            >\n              <i className=\"right\"></i>\n            </button>\n          </div>\n        </>\n      )}\n      {gameOver && (\n        <div className=\"game-over\">\n          <div>\n            GAME OVER\n            <Restart />\n          </div>\n        </div>\n      )}\n    </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { Provider } from \"react-redux\";\nimport { Store } from \"./config/store\";\nimport \"./styles.css\";\n\nReactDOM.render(\n  <Provider store={Store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}