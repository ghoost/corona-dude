(this["webpackJsonpcorona-dude"]=this["webpackJsonpcorona-dude"]||[]).push([[0],{11:function(e,t,a){e.exports=a.p+"static/media/player_walk.9f19440f.png"},13:function(e,t,a){e.exports=a(28)},18:function(e,t,a){},27:function(e,t,a){},28:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(3),o=a.n(i),c=(a(18),a(1));function l(e){var t=function(e){switch(e){case 0:return"grass";case 1:return"corona";case 2:return"grave";case 3:return"spiral";case 5:return"farm";case 6:return"tree";case 7:return"trees";case 8:return"stone";case 9:return"big-tree";case 10:return"mountain-1";case 11:return"mountain-2";case 12:return"mountain-3";case 13:return"mountain-4"}}("object"===typeof e.tile?e.tile.tile:e.tile);return r.a.createElement("div",{className:"tile ".concat(t),style:{height:40,width:40}})}function s(e){return r.a.createElement("div",{className:"row"},e.tiles.map((function(e,t){return r.a.createElement(l,{key:t,tile:e})})))}var u=Object(c.b)((function(e){return{tiles:e.map.tiles}}))((function(e){return r.a.createElement("div",{className:"map",style:{width:"800px",height:"400px"}},e.tiles.map((function(e,t){return r.a.createElement(s,{key:t,tiles:e})})))})),p=a(4),d=a(11),m=a.n(d),E=a(2),v=a(9),f=a.n(v),y={position:[0,0],spriteLocation:"0px",direction:"east",walkIndex:0,moveCount:10,animated:!1,showAnimation:!1,gameOver:!1},h={tiles:[]},O=Object(E.b)({player:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MOVE_PLAYER":return Object(p.a)({},t.payload);case"IS_ANIMATED":return f()(e,{animated:{$set:t.payload.animated}});case"SET_MOVES":return f()(e,{moveCount:{$set:t.payload.moveCount},gameOver:{$set:t.payload.gameOver},showAnimation:{$set:t.payload.showAnimation}});case"RESET_PLAYER":return e=y;default:return e}},map:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TILES":return e=t.payload;case"RESET_TILES":return e=h;default:return e}}}),g=Object(E.c)(O,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),S=a(12),w={tile:3,map:2},T={level1:[[0,w,5,0,7,7,6,0,0,0,9,0,0,0,0,0,0,6,0,9],[0,0,0,0,5,0,0,7,0,0,8,0,1,0,0,0,0,0,0,0],[1,0,0,0,7,0,6,0,7,0,0,0,0,0,0,0,7,0,0,1],[0,0,0,0,0,1,5,0,0,0,7,0,0,0,0,0,6,0,0,0],[0,0,0,0,5,0,0,8,0,7,8,0,0,1,0,0,7,0,0,0],[0,0,0,0,0,0,0,0,8,9,0,0,0,0,8,0,0,0,0,0],[0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,6,0,0,7,0,0,0,0,0],[0,0,10,11,0,0,8,7,0,0,5,0,0,0,0,0,0,0,0,0],[0,w,12,13,0,1,0,0,0,0,0,10,11,0,0,0,0,0,0,1]],level2:[[0,{tile:3,map:1},8,0,8,7,6,0,0,0,9,0,0,0,0,0,0,6,0,9],[0,0,0,0,5,0,0,7,0,0,8,0,1,0,0,0,0,0,0,0],[5,0,0,9,0,0,6,0,7,0,0,0,0,0,0,0,7,0,0,1],[0,0,7,0,0,1,5,0,0,0,7,0,0,0,0,0,6,0,0,0],[0,0,0,0,5,0,0,8,{tile:3,map:3},7,8,0,0,1,0,0,7,0,0,0],[0,0,0,0,0,0,0,0,8,9,0,0,0,0,8,0,0,0,0,0],[0,6,6,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0],[1,5,0,0,0,0,0,0,0,0,0,6,0,0,7,0,0,0,0,0],[0,0,10,11,0,0,8,7,0,0,5,0,0,0,0,0,0,0,0,0],[0,0,12,13,0,1,0,0,0,0,0,10,11,0,0,0,0,0,0,1]],level3:[[0,0,0,0,8,7,6,0,0,0,9,0,0,0,0,0,0,6,0,9],[0,0,0,0,5,0,0,7,0,0,8,0,1,0,0,0,0,0,0,0],[5,0,0,9,0,0,6,0,7,0,0,0,0,0,0,0,7,0,0,1],[0,0,9,0,0,0,1,0,0,0,7,0,0,0,0,0,6,0,0,0],[0,0,0,0,0,0,0,0,w,0,0,0,0,1,0,0,7,0,0,0],[0,0,0,0,0,0,0,0,0,7,0,0,0,0,8,0,0,0,0,0],[0,6,6,0,0,0,0,0,5,6,0,0,0,0,0,0,0,0,0,0],[1,5,0,0,0,0,0,0,0,0,0,6,0,0,7,0,0,0,0,0],[0,0,10,6,0,0,8,7,6,6,5,0,0,0,0,0,0,0,0,0],[0,0,12,13,0,1,0,0,0,0,0,10,11,0,0,0,0,0,0,1]]};var _=Object(c.b)((function(e){return Object(p.a)({},e.player)}))(function(e){var t=null;function a(e,t){switch(e){case"SOUTH":return"".concat(0,"px");case"EAST":return"".concat(40,"px");case"WEST":return"".concat(80,"px");case"NORTH":return"".concat(120,"px")}}function n(e,t){return t[0]>=0&&t[0]<=760&&t[1]>=0&&t[1]<=360}function r(e,n,r,i){if(null==t){var o=g.getState().player.moveCount,c=(o-=1)<0;if(c)return void g.dispatch({type:"SET_MOVES",payload:{moveCount:0,showAnimation:!0,gameOver:c}});var l=function(){var e=g.getState().player.walkIndex;return e>=8?0:e+1}();if(g.dispatch({type:"MOVE_PLAYER",payload:{position:n,direction:e,walkIndex:l,spriteLocation:a(e),animated:!0,moveCount:o,gameOver:c}}),1===r){var s=Object(S.a)(g.getState().map.tiles,(function(e){var t=n[1]/40,a=n[0]/40;e[t][a]=0}));s&&(g.dispatch({type:"SET_MOVES",payload:{moveCount:o+10,showAnimation:!0,gameOver:c}}),g.dispatch({type:"ADD_TILES",payload:{tiles:s}}))}3===r&&i>0&&g.dispatch({type:"ADD_TILES",payload:{tiles:T["level"+i]}}),t=setTimeout((function(){t=null,g.dispatch({type:"IS_ANIMATED",payload:{animated:!1}})}),500)}}function i(e){var t=g.getState().player.position,a=function(e,t){switch(t){case"WEST":return[e[0]-40,e[1]];case"EAST":return[e[0]+40,e[1]];case"NORTH":return[e[0],e[1]-40];case"SOUTH":return[e[0],e[1]+40];default:console.log(t)}}(t,e);if(n(0,a)){var i=function(e,t){var a,n,r=g.getState().map.tiles,i=t[1]/40,o=t[0]/40;return"object"===typeof r[i][o]?(a=r[i][o].tile,n=r[i][o].map):a=r[i][o],[a<5,a,n]}(0,a);n(0,a)&&i[0]&&r(e,a,i[1],i[2])}}return window.addEventListener("keydown",(function(e){!function(e){switch(e.preventDefault(),e.keyCode){case 37:return i("WEST");case 38:return i("NORTH");case 39:return i("EAST");case 40:return i("SOUTH");default:console.log(e.keyCode)}}(e)})),e}((function(e){var t=Object(c.c)((function(e){return e.player.spriteLocation})),a=Object(c.c)((function(e){return e.player.animated})),n=Object(c.c)((function(e){return e.player.showAnimation})),i=Object(c.c)((function(e){return e.player.moveCount})),o=i/10*100;return r.a.createElement("div",{className:"player ".concat(a?"animated":""),style:{transition:"top 0.5s linear, left 0.5s linear",position:"absolute",top:e.position[1],left:e.position[0],backgroundImage:"url('".concat(m.a,"')"),backgroundPositionY:t,width:"40px",height:"40px"}},r.a.createElement((function(){return r.a.createElement("div",{className:"moves",style:{background:i>10?"#0f0":"#f00",position:"absolute",top:"-5px",width:o+"%",maxWidth:"100%",height:"4px",overflow:"hidden",transition:"transition: width 1s ease-in-out"}},i)}),null),r.a.createElement("div",{className:"add-points ".concat(a&&n?"animated":"")},"10"),r.a.createElement("div",{className:"shadow ".concat(n?"animated":"")}))})));function b(e){var t=Object(c.c)((function(e){return e.player.position}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"world",style:{transition:"all 0.5s linear",position:"relative",width:"800px",height:"400px",margin:"20px auto",clipPath:"circle(150px at "+(t[0]+20)+"px "+(t[1]+20)+"px)"}},r.a.createElement(u,null),r.a.createElement(_,null)))}var A=function(){var e=Object(c.c)((function(e){return e.player.gameOver}));return g.dispatch({type:"ADD_TILES",payload:{tiles:T.level1}}),r.a.createElement(r.a.Fragment,null,!e&&r.a.createElement(b,null),e&&r.a.createElement("div",{className:"game-over"},r.a.createElement("div",null,"GAME OVER",r.a.createElement((function(){return r.a.createElement("button",{onClick:function(){g.dispatch({type:"ADD_TILES",payload:{tiles:T.level1}}),g.dispatch({type:"RESET_PLAYER",payload:{}})}},"RESTART")}),null))))};a(27);o.a.render(r.a.createElement(c.a,{store:g},r.a.createElement(A,null)),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.57452ac4.chunk.js.map